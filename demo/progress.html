<!DOCTYPE html>
<html lang="en">
<head>
	<meta charset="UTF-8">
	<meta name="viewport" content="initial-scale=1, maximum-scale=1, user-scalable=no">
	<meta name="format-detection" content="telephone=no">
	<title>JMUI</title>
	<link rel="stylesheet" href="../css/jmui.css">
	<script src="../lib/zeptojs/zepto.min.js"></script>
	<script src="../js/jmui.js"></script>
</head>
<body class="jmu-app">
	<div class="jmu-header">
		<a class="jmu-btn demo-return-btn" href="../index.html?tab=ui-js">返回</a><h2>进度条</h2>
	</div>
	<div class="jmu-content-container">
		<div class="jmu-content jmu-active">
			<section id="progress">
				<div class="demo-item">
					<p class="demo-desc">进度条 - 传输文件</p>
					<div class="demo-block">
						<div id="progress-demo-1">
							<div class="jmu-progress-file jmu-clearfix">
								<div class="progress-info">
									<span class="progress-text">下载中...</span>
									(<span class="progress-size-curr">0</span>M/<span class="progress-size-total">0</span>M)

									<p class="progress-bar-wrap">
										<span class="progress-bar"></span>
									</p>
								</div>
								<div class="progress-action jmu-horizental-center jmu-vertical-center">
									<button class="action-cancle">取消</button>
								</div>
							</div>
						</div>
					</div>
					<script class="demo-script">
						;(function (){
							// 图片或壁纸上传进度条
							var progress1 = $('#progress-demo-1').progress({
								$el: '.jmu-progress-file', // 指定条容器
								percentage: 20, 		  // 初始化当前进度
								total: 1.03    			  // 初始化文件大小
							});
							// 模拟收到后台新进度, 更新当前进度条的百分比
							var timer = setInterval(function () {
								var newPercentage1 = progress1.options.percentage + 1;
								if (newPercentage1 > 100) {
									newPercentage1 = ~~Math.random() * 20;
								}
								progress1.changeProgress(newPercentage1);
							}, 500);
							$('.action-cancle').on('tap', function () {
								clearInterval(timer);
							})
						})();
					</script>
				</div>

				<div class="demo-item">
					<p class="demo-desc">进度条 - 图片上传</p>
					<div class="demo-block">
						<div id="progress-demo-2">
							<div class="jmu-progress-img jmu-horizental-center jmu-vertical-center">
								<span class="progress-number">20</span>
								<div class="progress-mask"></div>
							</div>
						</div>
					</div>
					<script class="demo-script">
						;(function (){
							var progress2 = $('#progress-demo-2').progress({
								$el: '.jmu-progress-img',
								percentage: 0,
								total: 9.03
							});
							setInterval(function () {
								var newPercentage2 = progress2.options.percentage + 1;
								if (newPercentage2 > 100) {
									newPercentage1 = ~~Math.random() * 20;
								}
								progress2.changeProgress(newPercentage2);
							}, 500);
						})();
					</script>
				</div>

				<div class="demo-item">
					<p class="demo-desc">进度条 - 圆环加载</p>
					<div class="demo-block">
						<div id="progress-demo-3">
							<div class="jmu-progress-circle jmu-center">
								<div class="jmu-progress-pie">
									<div class="jmu-progress-pie-left">
										<div class="jmu-progress-left"></div>
									</div>
									<div class="jmu-progress-pie-right">
										<div class="jmu-progress-right"></div>
									</div>
									<div class="jmu-progress-mask jmu-horizental-center jmu-vertical-center">
										<span class="progress-number">30</span>
									</div>
								</div>
							</div>
						</div>
					</div>
					<script class="demo-script">
						;(function (){
							var progress3 = $('#progress-demo-3').progress({
								$el: '.jmu-progress-circle',
								percentage: 30,
								total: 78
							});
							// 测试
							setInterval(function () {
								var newPercentage3 = progress3.options.percentage + 1;
								if (newPercentage3 > 100) {
									newPercentage1 = ~~Math.random() * 20;
								}
								progress3.changeProgress(newPercentage3);
							}, 500);
						})();
					</script>
				</div>
			</section>
		</div>
	</div>

</body>
</html>