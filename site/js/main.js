$(function(){function a(a){if(a){var b=$(".demo-iframe").attr("src"),c=window.location.pathname.split("/").pop();if(-1===c.indexOf(".html"))var d="JMUI/dist/demo/"+c+".html#"+a;else var d="JMUI/dist/demo/"+c+"#"+a;d!==b&&(window.location.hash=a,$(".demo-iframe").attr("src",d),$("li[data-hash]").removeClass("active"),$("li[data-hash="+a+"]").addClass("active"))}}function b(a){function b(a){if(d){{var b=a.clientX-e;a.clientY-f}c.css({left:b})}}var c=$(a),d=!1,e=0,f=0;c.on("mousedown",function(a){d=!0,e=a.clientX-c.offset().left,f=a.clientY-c.offset().top,c.on("mousemove",b)}),c.on("mouseup",function(){d=!1,e=0,f=0,c.off("mousemove",b)}),c.on("mouseout",function(){d=!1,c.off("mousemove",b)})}function c(){hljs.configure({tabReplace:"  "}),hljs.initHighlightingOnLoad()}function d(){var a=$(".doc-body").offset().top,b=$(".doc-body")[0].getBoundingClientRect().right;if($(".hide-demo-btn, .scroll-top-btn").css({}),$(".demo-iframe-wrap").length>0){var c=b-$(".demo-iframe-wrap")[0].getBoundingClientRect().width;$(".demo-iframe-wrap").css({left:c-70}),$(".demo-iframe-wrap").affix({offset:{top:a}})}$(".doc-nav").affix({offset:{top:a}})}function e(){$("body").scrollspy({target:".js-scroll-spy"}).on("activate.bs.scrollspy",function(b){var c=$(b.target).data("hash");a(c)});var b;$(window).on("scroll",function(){clearTimeout(b),b=setTimeout(function(){$(window).scrollTop()>300?$(".scroll-top-btn, .hide-demo-btn").fadeIn():$(".scroll-top-btn, .hide-demo-btn").hide()},50)}),$(".hide-demo-btn").on("click",function(a){a.preventDefault();var b=$(".demo-iframe-wrap").css("display");$(".demo-iframe-wrap").toggle();var c="none"===b?"隐藏 Demo":"显示 Demo";$(this).text(c)}),$(".doc-qrcode-btn").on("click",function(a){a.preventDefault();var b=$(this)[0].href;$("#qrcode").empty().qrcode({width:300,height:300,text:b}),$("#qrcode-link").attr("href",b),$("#qrcode-modal").modal("show")}),$(".doc-demo-link").on("mouseover",function(a){a.preventDefault();var b=$(this)[0].href,c=$(this).parents(".panel").height(),d=300>c?c:300;$(this).siblings(".doc-qrcode").empty().qrcode({width:d,height:d,text:b}),$(".demo-iframe-wrap").hide(),$(this).siblings(".doc-qrcode").show()}),$(".doc-demo-link").on("mouseout",function(){$(this).siblings(".doc-qrcode").hide(),$(".demo-iframe-wrap").show()}),$(".doc-demo-css-link, .doc-demo-js-link").on("click",function(a){a.preventDefault();var b=($(this).text(),$(this)[0].href),c=b.split(".")[1];$("#sourcecode-modal .modal-body").scrollTop(0),$("#sourcecode-modal code").removeClass("css js"),$("#sourcecode-modal code").load(b,function(a,d){"error"==d||($("#sourcecode-modal .modal-title").text(b),$("#sourcecode-modal .doc-demo-file-link").attr("href",b),$("#sourcecode-modal code").text(a),$("#sourcecode-modal code").addClass(c),$("#sourcecode-modal code").each(function(a,b){hljs.highlightBlock(b)}),$("#sourcecode-modal").modal("show"))})}),$("#feedback-form").on("submit",function(a){a.preventDefault(),$("#feedback-form-submit-btn").prop("disabled",!0),$("#feedback-form-submit-btn").text("提交中");var b=$(this).serialize(),c=$(this).attr("action");$.post(c,b,function(a){0===a.retcode?($("#feedback-modal").modal("hide"),$("#feedback-form").find('[name="feedback"]').val(""),alert(a.msg)):alert(a.msg)}).done(function(){$("#feedback-form-submit-btn").prop("disabled",!1),$("#feedback-form-submit-btn").text("提交")})})}function f(){$(".navbar-nav").find('a[href="'+window.location.pathname+'"]').parent("li").addClass("active"),d(),c(),$(".doc-copy-code-btn").hide(),b(".demo-iframe-wrap"),e()}f()});